"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[456],{8456:(G,m,r)=>{r.r(m),r.d(m,{default:()=>$});var e=r(4496);const c={large:40,small:10,medium:20},n={available:"bg-green-200",notAvailable:"bg-red-600"},k={index:-1,selected:!1},p={available:0,NoAvailable:0,total:0},h={locker:{locker_id:0,client_id:0,macAdd:"",address:"",name:"",state:0,doors:[]},depataments:[],movements:[]};var u=r(6496);const x=(o,a)=>a.door_id;function C(o,a){if(1&o){const t=e.KQA();e.I0R(0,"div",1),e.qCj("click",function(){const l=e.usT(t).$index,d=e.GaO();return e.CGJ(d.handlerSelected(l))}),e.OEk(1),e.C$Y()}if(2&o){const t=a.$implicit,i=e.GaO();e.m8U(i.getColor(t.state)+" border-2 border-neutral-600 h-"+i.getSize(t.door_size_id)+" w-48 flex items-center justify-center cursor-pointer "+(t.selected?" opacity-70 ":"")),e.E7m("matTooltip","Precione para ver detalles"),e.yG2(),e.oRS(" ",t.number," ")}}let I=(()=>{class o{constructor(){this.locker=e.YhN.required(),this.onSelected=new e._w7,(0,e.o3l)(()=>{console.log(this.locker())})}getSize(t){return 1===t?c.small.toString():2===t?c.medium.toString():3===t?c.large.toString():c.small.toString()}handlerSelected(t){this.locker().doors.map((i,s)=>{s!==t&&(i.selected=!1)}),this.locker().doors[t].selected=!this.locker().doors[t].selected,this.onSelected.emit({index:t,selected:this.locker().doors[t].selected})}getColor(t){return 1===t?n.available:n.notAvailable}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["diagram-locker"]],inputs:{locker:[e.Wk5.SignalBased,"locker"]},outputs:{onSelected:"onSelected"},standalone:!0,features:[e.UHJ],decls:3,vars:0,consts:[[1,"grid","xs:grid-cols-2","sm:grid-cols-2","md:grid-cols-2","lg:grid-cols-2","xl:grid-cols-2","border-2","border-neutral-600"],[3,"matTooltip","click"],[3,"matTooltip","class"]],template:function(i,s){1&i&&(e.I0R(0,"div",0),e.c53(1,C,2,4,"div",2,x),e.C$Y()),2&i&&(e.yG2(),e.oho(s.locker().doors))},dependencies:[u.KO,u.a4],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return o})();var v=r(1560);function y(o,a){if(1&o&&(e.I0R(0,"div",4)(1,"div",5)(2,"div",6),e.OEk(3,"Numero de casillero:"),e.C$Y(),e.I0R(4,"div",7)(5,"div",8)(6,"div",9),e.OEk(7),e.C$Y()()()(),e.I0R(8,"button",10),e.wR5(9,"mat-icon",11),e.C$Y()(),e.I0R(10,"div",4)(11,"div",5)(12,"div",6),e.OEk(13,"Tama\xf1o de casillero:"),e.C$Y(),e.I0R(14,"div",7)(15,"div",8)(16,"div",12),e.OEk(17),e.C$Y()()()(),e.I0R(18,"button",10),e.wR5(19,"mat-icon",11),e.C$Y()(),e.I0R(20,"div",4)(21,"div",5)(22,"div",6),e.OEk(23,"Estado casillero:"),e.C$Y(),e.I0R(24,"div",7)(25,"div",8)(26,"div",12),e.OEk(27),e.C$Y()()()(),e.I0R(28,"button",10),e.wR5(29,"mat-icon",11),e.C$Y()(),e.I0R(30,"div",4)(31,"div",5)(32,"div",6),e.OEk(33,"Ultimo movimiento:"),e.C$Y(),e.I0R(34,"div",7)(35,"div",8)(36,"div",12),e.OEk(37," entragado - 18/05/2025 "),e.C$Y()()()(),e.I0R(38,"button",10),e.wR5(39,"mat-icon",11),e.C$Y()()),2&o){const t=e.GaO();e.yG2(7),e.oRS(" ",t.locker().doors[t.selected().index].number," "),e.yG2(2),e.E7m("svgIcon","heroicons_mini:chevron-right"),e.yG2(8),e.oRS(" ",t.locker().doors[t.selected().index].name_size," "),e.yG2(2),e.E7m("svgIcon","heroicons_mini:chevron-right"),e.yG2(8),e.oRS(" ",t.getStatus(t.locker().doors[t.selected().index].state)," "),e.yG2(2),e.E7m("svgIcon","heroicons_mini:chevron-right"),e.yG2(10),e.E7m("svgIcon","heroicons_mini:chevron-right")}}function R(o,a){1&o&&(e.I0R(0,"div",4)(1,"div",13),e.OEk(2," Seleccione un casillero para ver detalle "),e.C$Y()())}let b=(()=>{class o{constructor(){this.locker=e.YhN.required(),this.selected=e.YhN.required(),this.ColorAvailable=n.available,this.ColorNoAvailable=n.notAvailable,(0,e.o3l)(()=>{console.log(this.selected())})}getStatus(t){return 1===t?"Libre ":"Ocupado"}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["detail-door"]],inputs:{locker:[e.Wk5.SignalBased,"locker"],selected:[e.Wk5.SignalBased,"selected"]},standalone:!0,features:[e.UHJ],decls:7,vars:1,consts:[[1,"p-6","shadow","rounded-2xl","bg-card"],[1,"flex","flex-col","sm:flex-row","items-start","justify-between"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"flex","flex-col","mt-2","divide-y"],[1,"flex","flex-row","items-center","justify-between","py-4","px-0.5"],[1,"flex","flex-col"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"flex","items-center"],[1,"ml-1.5","text-md","text-secondary"],["mat-icon-button",""],[3,"svgIcon"],[1,"ml-0.5","text-md","text-secondary"],[1,"font-medium","text-center"]],template:function(i,s){1&i&&(e.I0R(0,"div",0)(1,"div",1)(2,"div",2),e.OEk(3," Detalle de casillero "),e.C$Y()(),e.I0R(4,"div",3),e.yuY(5,y,40,7)(6,R,3,0),e.C$Y()()),2&i&&(e.yG2(5),e.C0Y(5,s.selected().selected?5:6))},dependencies:[v.qL],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return o})();var f=r(1568),S=r(3992),E=r(6716),O=r(7048);let Y=(()=>{class o{constructor(t){this._httpClient=t}getLockerStatus(t){return this._httpClient.post(`${E.O.apiUrl}/locker/get-status`,{locker_id:t})}static#e=this.\u0275fac=function(i){return new(i||o)(e.CoB(O.KK))};static#t=this.\u0275prov=e.wxM({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const g=o=>[o],$=[{path:":id",component:(()=>{class o{constructor(t,i){this._lockerService=t,this._route=i,this.lockerId=parseInt(this._route.snapshot.paramMap.get("id")),this.colorDoor=n,this.statusInfo=(0,e.OCB)(h),this.selected=(0,e.OCB)(k),this.resume=(0,e.OCB)(p)}ngOnInit(){this._lockerService.getLockerStatus(this.lockerId).pipe((0,S.U)(1)).subscribe(t=>{this.statusInfo.set(t.data),this.getResumenLocker()})}handlerSeleted(t){this.selected.set(t)}getResumenLocker(){const t=this.statusInfo().locker.doors.filter(l=>1===l.state).length,i=this.statusInfo().locker.doors.filter(l=>0===l.state).length,s=this.statusInfo().locker.doors.length;this.resume.set({available:t,NoAvailable:i,total:s})}static#e=this.\u0275fac=function(i){return new(i||o)(e.GI1(Y),e.GI1(f.gV))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["status-locker"]],standalone:!0,features:[e.UHJ],decls:63,vars:22,consts:[[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","p-6","sm:py-12","md:px-8","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-slate-900"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"grid","xs:grid-cols-1","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-4"],[1,"xs:col-span-1","sm:col-span-1","md:col-span-1","lg:col-span-2","xl:col-span-2","p-4","flex","items-center","justify-center","text-sm"],[1,"p-6","shadow","rounded-2xl","bg-card"],[3,"locker","onSelected"],[1,"xs:col-span-1","sm:col-span-1","md:col-span-1","lg:col-span-2","xl:col-span-2","col-span-2","p-4","text-sm"],[1,"grid","grid-cols-2","gap-4"],[1,"flex","flex-col","flex-auto","p-6","bg-card","rounded-2xl","shadow"],[1,"flex","items-center"],[1,"flex","flex-col"],[1,"mr-4","text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"text-secondary","font-medium"],[1,"my-4","space-y-4"],[1,"flex-auto","ml-4","leading-none"],[1,"text-sm","font-medium","text-secondary"],[1,"mt-1","font-medium","text-2xl"],[1,"flex","items-center","mt-auto"],["mat-stroked-button","",1,"mt-2"],[1,"font-medium","text-secondary"],[1,"flex-auto","grid","grid-cols-4","gap-4","mt-6"],[1,"col-span-2","flex","flex-col","items-center","justify-center","py-8","px-1","rounded-2xl","bg-indigo-50","text-indigo-800","dark:bg-white","dark:bg-opacity-5","dark:text-indigo-400",3,"routerLink"],[1,"text-5xl","sm:text-7xl","font-semibold","leading-none","tracking-tight"],[1,"mt-1","text-sm","sm:text-lg","font-medium"],[1,"col-span-2"],[3,"locker","selected"]],template:function(i,s){1&i&&(e.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"a",3),e.OEk(5,"Dashboard"),e.C$Y()(),e.I0R(6,"div",4),e.wR5(7,"mat-icon",5),e.I0R(8,"a",6),e.OEk(9,"Locker"),e.C$Y()()(),e.I0R(10,"div",7)(11,"h2",8),e.OEk(12," Locker "),e.C$Y()()()(),e.I0R(13,"div",9)(14,"div",10)(15,"div",11)(16,"diagram-locker",12),e.qCj("onSelected",function(d){return s.handlerSeleted(d)}),e.C$Y()()(),e.I0R(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18),e.OEk(23),e.C$Y(),e.I0R(24,"div",19),e.OEk(25),e.C$Y()()(),e.I0R(26,"div",20)(27,"div",17)(28,"div",16),e.wR5(29,"div"),e.I0R(30,"div",21)(31,"div",22),e.OEk(32," Disponible "),e.C$Y(),e.I0R(33,"div",23),e.OEk(34),e.C$Y()()()(),e.I0R(35,"div",17)(36,"div",16),e.wR5(37,"div"),e.I0R(38,"div",21)(39,"div",22),e.OEk(40," No disponible "),e.C$Y(),e.I0R(41,"div",23),e.OEk(42),e.C$Y()()()()(),e.I0R(43,"div",24)(44,"button",25),e.OEk(45),e.C$Y()()(),e.I0R(46,"div",11)(47,"div",17)(48,"div",26),e.OEk(49,"Registro"),e.C$Y(),e.I0R(50,"div",27)(51,"a",28)(52,"div",29),e.OEk(53),e.C$Y(),e.I0R(54,"div",30),e.OEk(55," Departamentos "),e.C$Y()(),e.I0R(56,"a",28)(57,"div",29),e.OEk(58),e.C$Y(),e.I0R(59,"div",30),e.OEk(60," Movimientos "),e.C$Y()()()()(),e.I0R(61,"div",31),e.wR5(62,"detail-door",32),e.C$Y()()()()),2&i&&(e.yG2(4),e.E7m("routerLink","/dashboard"),e.yG2(3),e.E7m("svgIcon","heroicons_mini:chevron-right"),e.yG2(9),e.E7m("locker",s.statusInfo().locker),e.yG2(7),e.oRS(" ",s.statusInfo().locker.name," "),e.yG2(2),e.oRS(" ",s.statusInfo().locker.address," "),e.yG2(4),e.m8U("flex items-center justify-center w-14 h-10 rounded "+s.colorDoor.available+" text-red-800 dark:bg-red-600 dark:text-red-50"),e.yG2(5),e.oRS(" ",s.resume().available," "),e.yG2(3),e.m8U("flex items-center justify-center w-14 h-10 rounded "+s.colorDoor.notAvailable+" text-red-800 dark:bg-red-600 dark:text-red-50"),e.yG2(5),e.oRS(" ",s.resume().NoAvailable," "),e.yG2(3),e.oRS(" Total casilleros ",s.resume().total," "),e.yG2(6),e.E7m("routerLink",e.S45(18,g,"/department/"+s.statusInfo().locker.locker_id)),e.yG2(2),e.oRS(" ",s.statusInfo().depataments.length," "),e.yG2(3),e.E7m("routerLink",e.S45(20,g,"/movement/"+s.statusInfo().locker.locker_id)),e.yG2(2),e.oRS(" ",s.statusInfo().movements.length," "),e.yG2(4),e.E7m("locker",s.statusInfo().locker)("selected",s.selected()))},dependencies:[I,f.ER,b,v.qL],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return o})()}]}}]);